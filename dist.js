/**
 * @author Nathan CUVELLIER <cuvellier.nathan@gmail.com>
 */
"use strict";function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}window.addEventListener("DOMContentLoaded",function(e){console.log("%cHOP","color: orange; font-size: xxx-large");var t=document.querySelector("nav"),n=document.querySelector(".menu-burger"),a=document.querySelectorAll("nav li"),i=document.querySelectorAll(".project > div");a.forEach(function(e){e.addEventListener("click",function(){t.classList.remove("nav-active"),n.classList.remove("nav-active")})}),i.forEach(function(e){e.addEventListener("click",function(){var t=document.createElement("div"),n=document.createElement("div");n.style.backgroundColor="#000000",n.style.opacity=".8",n.classList.add("bg-modal"),t.classList.add("modal"),t.appendChild(e.cloneNode(!0)),setTimeout(function(){null==document.querySelector(".modal")&&(document.body.appendChild(n),document.body.appendChild(t))},1)})}),document.body.addEventListener("click",function(e){t.contains(e.target)||!t.classList.contains("nav-active")||n.contains(e.target)||(t.classList.remove("nav-active"),n.classList.remove("nav-active"));var a=document.querySelector(".modal");null==a||a.contains(e.target)||(document.body.removeChild(a),document.body.removeChild(document.querySelector(".bg-modal")))}),n.addEventListener("click",function(){t.classList.toggle("nav-active"),n.classList.toggle("nav-active")});var o=2,r=document.querySelector("div.bg");setInterval(function(){r.style.backgroundImage="url('img/mountain".concat(o,".jpg')"),++o>3&&(o=1)},5e3),setInterval(function(){new Timer},1e3),new Animation});var Timer=function(){function e(){_classCallCheck(this,e);var t=document.querySelector("#life"),n="",a=this.dateInterval();for(var i in a)n+=a[i]+" "+(a[i]>1?i:i.substr(0,i.length-1))+" ";t.innerText=n}return _createClass(e,[{key:"dateInterval",value:function(){var e={years:315576e5,months:26298e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3},t={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},n=new Date,a=new Date(2e3,5,12,21,30,0),i=n.getTime()-a.getTime()-60*n.getTimezoneOffset()*1e3;return Object.keys(e).forEach(function(n){t[n]=Math.floor(i/e[n]),i-=t[n]*e[n]}),t}}]),e}(),Skills=function e(t){_classCallCheck(this,e);t.getAttribute("id");var n=t.getAttribute("data-ratio"),a=t.getContext("2d"),i=0,o=setTimeout(function e(){clearInterval(o),i<n&&(i+=.01,i=Math.round(100*i)/100,a.clearRect(0,0,t.width,t.height),a.beginPath(),a.arc(t.width/2,t.height/2,75,-.5*Math.PI,3*Math.PI/2-(3*Math.PI/2- -.5*Math.PI)*(1-i)),a.lineWidth=15,a.strokeStyle="#d48800",a.stroke(),a.font="30px sans-serif",a.textAlign="center",a.textBaseline="middle",a.fillText(Math.round(100*i)+"%",t.width/2,t.height/2),o=setTimeout(e,10))},10)},Animation=function e(){_classCallCheck(this,e);var t=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>.7&&(e.target.classList.remove("not-visible"),Array.from(e.target.classList).includes("animation-skills")?new Skills(e.target.querySelector("canvas")):Array.from(e.target.classList).includes("animation-fadeInLeft")?e.target.classList.add("fadeInLeft"):Array.from(e.target.classList).includes("animation-fadeInRight")?e.target.classList.add("fadeInRight"):Array.from(e.target.classList).includes("animation-fadeInUp")&&e.target.classList.add("fadeInUp"),t.unobserve(e.target))})},{threshold:[.7]});document.querySelectorAll(".animation, .animation-skills").forEach(function(e){e.classList.add("not-visible"),t.observe(e)})};
